(function(a){var p,q,s=document.rocketbarBaseURL;a(document).ready(function(){var a=document.rocketbarCache,f=[],g=document.rocketbarCommands,d;for(d in g)if(g.hasOwnProperty(d)){var k=g[d];k.searchableIndex=f.length;k.iconHTML='<img class="wp-menu-image svg" src="'+document.rocketbarIcon+'" style="fill: white; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;"></div>';k.link=k.url}for(var h in a.pages)a.pages.hasOwnProperty(h)&&(d=a.pages[h],d.searchableIndex=f.length,
d.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-page"><br></div>',f.push(d.title));for(h in a.taxonomies)a.taxonomies.hasOwnProperty(h)&&(d=a.taxonomies[h],d.searchableIndex=f.length,d.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-post"><br></div>',f.push(d.title));d={};var k={},b;for(b in a.menu)if(a.menu.hasOwnProperty(b)){var c=a.menu[b];c.searchableIndex=f.length;c[6]&&!c[6].match(/^data:image|^http/i)?c.iconHTML='<div class="wp-menu-image dashicons-before '+
c[6]+'"></div>':c[6]&&c[6].match(/data:image\/svg/i)?c.iconHTML='<div class="wp-menu-image svg" style="background-image: url(\''+c[6]+"') !important; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;\"></div>":c[6]&&c[6].match(/http/i)?c.iconHTML='<img src="'+c[6]+'" style="width: 18px; height: 18px; vertical-align: top;" />':c.iconHTML="";var e=c[2];e.match(/\.php/)?c.link=a.admin_url+e:c.link=a.admin_url+"admin.php?page="+e;c[0].length&&(e=c[0].replace(/<(?:.|\n)*?>/gm,
"").replace(/\ \d$/,""),d[c[2]]=e,k[c[2]]=c.iconHTML)}for(var n in a.submenu)if(a.submenu.hasOwnProperty(n))for(h in b=a.submenu[n],c=d[n],b)if(b.hasOwnProperty(h)){var m=b[h],e=m[2];e.match(/\.php/)?m.link=a.admin_url+e:m.link=a.admin_url+"admin.php?page="+e;e=m[0].replace(/<(?:.|\n)*?>/gm,"").replace(/\ \d$/,"");e.length&&(m.searchableIndex=f.length,m.iconHTML=k[n],f.push(c+" \u2192 "+e))}var r=function(a,c){if("number"===!typeof a||"object"!==typeof c)return!1;if(c.hasOwnProperty("searchableIndex")&&
c.searchableIndex===a)return c;for(var b in c)if(c.hasOwnProperty(b)&&"object"===typeof c[b]){var d=r(a,c[b]);if(!1!==d)return d}return!1};p=function(c){var b=f.fuzzyMatches(c);b.forEach(function(c,d){var e=f.indexOf(c.text);b[d]=r(e,a);b[d].txt="";b[d].priority=c.priority;c.text.split("").forEach(function(a,e){-1!==c.matches.indexOf(e)?b[d].txt+="<strong>"+a+"</strong>":b[d].txt+=a})});return b};q=function(a){if(a.trim().length){var c=a.trim().split(" ")[0].toLowerCase();a=a.replace(c,"").trim();
var b=!1,d;for(d in g)if(g.hasOwnProperty(d)){var e=g[d];b||0!==d.indexOf(c)||(e.dynamicLink=a.length&&e.param?e.url+e.start+e.param+"="+encodeURIComponent(a):e.url,b=e)}return b}}});a(document).ready(function(){var l=document.createElement("div");a(l).addClass("rocketbar-wrapper");a(l).append('<input type="text" id="rocketbar" placeholder="Type to navigate..." autofocus="yes" value="" /><ul id="rocketbar-list"></ul>');a("body").append(l);var f=a("#rocketbar"),g=a("#rocketbar-list"),d=0;a(document).on("keyup",
function(a){if(!h())return d=0;a.preventDefault();38===a.keyCode?d--:40===a.keyCode&&d++;0>d&&(d=0);k()});f.on("keyup",function(b){13===b.keyCode&&(b.preventDefault(),a("#rocketbar-list > li > a").each(function(c,b){c===d&&(a(b).click(),"_blank"===a(b).attr("target").toString()?window.open(a(b).attr("href"),"_blank").focus():document.location=a(b).attr("href"))}))});f.on("change keyup keydown paste",function(){g.html("");" "===a(this).val()&&a(this).val("");0===a(this).val().indexOf("/")&&g.append('<li><img class="wp-menu-image svg" src="'+
document.rocketbarIcon+'" style="fill: white; width: 20px; height: 20px;" /><a href="'+s+a(this).val()+'"/>Navigate to: '+a(this).val().trim()+"</a></li>");var b=q(a(this).val());b&&g.append("<li>"+b.iconHTML+'<a href="'+b.dynamicLink+'">'+b.description+"</a></li>");b=p(a(this).val());b=b.slice(0,10);b.forEach(function(a){g.append("<li>"+a.iconHTML+'<a href="'+a.link+'">'+a.txt+"</a></li>")});b="http://google.com/search?q="+encodeURIComponent(a(this).val());g.append('<li><a href="'+b+'" target="_blank">Search Google for "'+
a(this).val()+'"</a></li>');k()});a(document).on("keydown",function(b){b.shiftKey&&32===b.keyCode&&a(l).toggle();27===b.keyCode&&h()&&a(l).hide();h()||f.val("");" "===f.val()&&f.val("");f.focus()});var k=function(){g.find("li").each(function(b,c){b===d?a(c).addClass("selected"):a(c).removeClass("selected")})},h=function(){return a(l).is(":visible")}})})(jQuery);
