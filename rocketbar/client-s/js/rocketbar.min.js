(function(a){var p,q;a(document).ready(function(){var d=document.rocketBarCache,a=[],h=document.rocketbarCommands,e;for(e in h)if(h.hasOwnProperty(e)){var k=h[e];k.searchableIndex=a.length;k.iconHTML='<img class="wp-menu-image svg" src="'+document.rocketbarIcon+'" style="fill: white; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;"></div>';k.link=k.url}for(var g in d.pages)d.pages.hasOwnProperty(g)&&(e=d.pages[g],e.searchableIndex=a.length,e.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-page"><br></div>',
a.push(e.title));for(g in d.taxonomies)d.taxonomies.hasOwnProperty(g)&&(e=d.taxonomies[g],e.searchableIndex=a.length,e.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-post"><br></div>',a.push(e.title));e={};var k={},c;for(c in d.menu)if(d.menu.hasOwnProperty(c)){var b=d.menu[c];b.searchableIndex=a.length;b[6]&&!b[6].match(/^data:image|^http/i)?b.iconHTML='<div class="wp-menu-image dashicons-before '+b[6]+'"></div>':b[6]&&b[6].match(/data:image\/svg/i)?b.iconHTML='<div class="wp-menu-image svg" style="background-image: url(\''+
b[6]+"') !important; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;\"></div>":b[6]&&b[6].match(/http/i)?b.iconHTML='<img src="'+b[6]+'" style="width: 18px; height: 18px; vertical-align: top;" />':b.iconHTML="";var f=b[2];f.match(/\.php/)?b.link=d.admin_url+f:b.link=d.admin_url+"admin.php?page="+f;b[0].length&&(f=b[0].replace(/<(?:.|\n)*?>/gm,"").replace(/\ \d$/,""),e[b[2]]=f,k[b[2]]=b.iconHTML)}for(var n in d.submenu)if(d.submenu.hasOwnProperty(n))for(g in c=d.submenu[n],
b=e[n],c)if(c.hasOwnProperty(g)){var m=c[g],f=m[2];f.match(/\.php/)?m.link=d.admin_url+f:m.link=d.admin_url+"admin.php?page="+f;f=m[0].replace(/<(?:.|\n)*?>/gm,"").replace(/\ \d$/,"");f.length&&(m.searchableIndex=a.length,m.iconHTML=k[n],a.push(b+" \u2192 "+f))}var r=function(b,a){if("number"===!typeof b||"object"!==typeof a)return!1;if(a.hasOwnProperty("searchableIndex")&&a.searchableIndex===b)return a;for(var c in a)if(a.hasOwnProperty(c)&&"object"===typeof a[c]){var d=r(b,a[c]);if(!1!==d)return d}return!1};
p=function(b){var c=a.fuzzyMatches(b);c.forEach(function(b,e){var f=a.indexOf(b.text);c[e]=r(f,d);c[e].txt="";c[e].priority=b.priority;b.text.split("").forEach(function(a,d){-1!==b.matches.indexOf(d)?c[e].txt+="<strong>"+a+"</strong>":c[e].txt+=a})});return c};q=function(b){var c=b.split(" ")[0].toLowerCase();b=b.replace(c,"").trim();var a=!1,e;for(e in h)if(h.hasOwnProperty(e)){var d=h[e];if(a)return;d.command===c&&(d.dynamicLink=b.length?d.url+d.start+d.param+"="+encodeURIComponent(b):d.url,a=d)}return a}});
a(document).ready(function(){var d=document.createElement("div");a(d).addClass("rocketbar-wrapper");a(d).append('<input type="text" id="rocketbar" placeholder="Type to navigate..." autofocus="yes" value="" /><ul id="rocketbar-list"></ul>');a("body").append(d);var l=a("#rocketbar"),h=a("#rocketbar-list"),e=0;a(document).on("keyup",function(a){if(!g())return e=0;a.preventDefault();38===a.keyCode?e--:40===a.keyCode&&e++;0>e&&(e=0);k()});l.on("keyup",function(c){13===c.keyCode&&(c.preventDefault(),a("#rocketbar-list > li > a").each(function(b,
c){b===e&&(a(c).click(),document.location=a(c).attr("href"))}))});l.on("change keyup keydown paste",function(){h.html("");var c=q(a(this).val());c&&h.append("<li>"+c.iconHTML+'<a href="'+c.dynamicLink+'">'+c.txt+"</a></li>");c=p(a(this).val());c=c.slice(0,10);c.forEach(function(a){h.append("<li>"+a.iconHTML+'<a href="'+a.link+'">'+a.txt+"</a></li>")});k()});a(document).on("keydown",function(c){c.shiftKey&&32===c.keyCode&&a(d).toggle();27===c.keyCode&&g()&&a(d).hide();g()||l.val("");" "===l.val()&&
l.val("");l.focus()});var k=function(){h.find("li").each(function(c,b){c===e?a(b).addClass("selected"):a(b).removeClass("selected")})},g=function(){return a(d).is(":visible")}})})(jQuery);
